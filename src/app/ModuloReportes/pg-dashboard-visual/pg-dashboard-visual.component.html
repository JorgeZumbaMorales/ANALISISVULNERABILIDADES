<!-- üü¶ T√çTULO + SUBT√çTULO + Datepicker a la derecha -->
<section class="w-full bg-baseAzulOscuro text-textoSecundario rounded-2xl shadow-md px-4 sm:px-6 py-4 mb-4">
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
    <div>
      <h2 class="text-2xl sm:text-3xl font-bold">Dashboard de An√°lisis de Seguridad</h2>
      <p class="text-sm mt-1">Panel de control para el seguimiento de dispositivos, escaneos y vulnerabilidades.</p>
    </div>
  </div>
</section>
<section class="w-full bg-white rounded-2xl px-4 py-2 mb-4">
  <div class="max-w-7xl mx-auto flex flex-wrap justify-center gap-6">

    <!-- Dispositivos Registrados -->
    <p-panel [toggleable]="false" class="w-64 sm:w-56 md:w-52 lg:w-48 xl:w-48 rounded-2xl hover:shadow-lg hover:scale-105 transform transition-all duration-300">

      <div class="flex flex-col items-center justify-center py-5 px-3">
        <i class="pi pi-desktop text-3xl mb-2 text-baseNaranja"></i>
        <p class="text-sm text-black mb-1 text-center">Dispositivos Registrados</p>
        <p class="text-4xl font-bold text-gray-900">{{ totalDispositivos }}</p>
      </div>
    </p-panel>

    <!-- Escaneos Realizados -->
    <p-panel [toggleable]="false" class="w-64 sm:w-56 md:w-52 lg:w-48 xl:w-48 rounded-2xl hover:shadow-lg hover:scale-105 transform transition-all duration-300">

      <div class="flex flex-col items-center justify-center py-5 px-3">
        <i class="pi pi-search text-3xl mb-2 text-baseNaranja"></i>
        <p class="text-sm text-black mb-1 text-center">Escaneos Realizados</p>
        <p class="text-4xl font-bold text-gray-900">{{ totalEscaneos }}</p>
      </div>
    </p-panel>

    <!-- Vulnerabilidades Detectadas -->
   <p-panel [toggleable]="false" class="w-64 sm:w-56 md:w-52 lg:w-48 xl:w-48 rounded-2xl hover:shadow-lg hover:scale-105 transform transition-all duration-300">

      <div class="flex flex-col items-center justify-center py-5 px-3">
        <i class="pi pi-exclamation-triangle text-3xl mb-2 text-baseNaranja"></i>
        <p class="text-sm text-black mb-1 text-center">Vulnerabilidades Detectadas</p>
        <p class="text-4xl font-bold text-gray-900">{{ totalVulnerabilidades }}</p>
      </div>
    </p-panel>

    <!-- Puertos Abiertos Detectados -->
   <p-panel [toggleable]="false" class="w-64 sm:w-56 md:w-52 lg:w-48 xl:w-48 rounded-2xl hover:shadow-lg hover:scale-105 transform transition-all duration-300">

      <div class="flex flex-col items-center justify-center py-5 px-3">
        <i class="pi pi-globe text-3xl mb-2 text-baseNaranja"></i>
        <p class="text-sm text-black mb-1 text-center">Puertos Abiertos Detectados</p>
        <p class="text-4xl font-bold text-gray-900">{{ totalPuertosAbiertos }}</p>
      </div>
    </p-panel>

  </div>
</section>

<!-- üìä Secci√≥n de Tabs con Gr√°ficos -->
<section class="w-full bg-white rounded-2xl px-4 py-2 mt-2 mb-4">
  <div class="max-w-7xl mx-auto flex flex-col items-center gap-4">

    <p class="text-sm text-gray-700 font-medium mb-2 self-start sm:self-center">
      Seleccione el gr√°fico a visualizar:
    </p>

    <!-- ‚úÖ Componente TabView (compatible con tu proyecto actual) -->
    <p-tabView [(activeIndex)]="indiceActivo" class="w-full sm:max-w-5xl rounded-lg shadow-sm">

      <p-tabPanel *ngFor="let tab of tabs" [header]="tab.titulo">

        <ng-container [ngSwitch]="tab.valor">

          <!-- Gr√°fico de Escaneos -->
          <p-chart *ngSwitchCase="0" type="line"
                   [data]="datosEscaneos"
                   [options]="obtenerOpcionesGraficoLineas()"
                   style="height: 400px;">
          </p-chart>

          <!-- Gr√°fico de Estado de Dispositivos -->
          <p-chart *ngSwitchCase="1" type="doughnut"
                   [data]="datosEstadoDispositivos"
                   [options]="obtenerOpcionesGraficoDona()"
                   style="height: 400px;">
          </p-chart>

          <!-- Gr√°fico de Puertos Abiertos -->
          <p-chart *ngSwitchCase="2" type="bar"
                   [data]="datosPuertos"
                   [options]="obtenerOpcionesGraficoBarras()"
                   style="height: 400px;">
          </p-chart>

          <!-- Gr√°fico de Vulnerabilidades -->
          <p-chart *ngSwitchCase="3" type="bar"
                   [data]="datosVulnerabilidades"
                   [options]="obtenerOpcionesGraficoBarras()"
                   style="height: 400px;">
          </p-chart>

          <!-- Gr√°fico de Dispositivos con CVE -->
          <p-chart *ngSwitchCase="4" type="bar"
                   [data]="datosDispositivosConCVE"
                   [options]="obtenerOpcionesGraficoBarras()"
                   style="height: 400px;">
          </p-chart>

          <!-- Gr√°fico de Nivel de Riesgo -->
          <p-chart *ngSwitchCase="5" type="doughnut"
                   [data]="datosNivelRiesgo"
                   [options]="obtenerOpcionesGraficoDona()"
                   style="height: 400px;">
          </p-chart>

        </ng-container>

      </p-tabPanel>

    </p-tabView>

  </div>
</section>







































